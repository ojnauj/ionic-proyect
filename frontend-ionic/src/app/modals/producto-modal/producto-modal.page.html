<ion-header [translucent]="true" class="modal-header">
  <ion-toolbar class="modal-toolbar">
    <ion-buttons slot="end">
      <ion-button (click)="dismiss()" fill="clear" class="close-button">
        <ion-icon name="close" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="modal-content">
  <div class="form-container">
    <!-- Hero Section -->
    <div class="form-hero">
      <div class="hero-content">
        <div class="hero-icon">
          <ion-icon name="{{ isEdit ? 'create' : 'cube' }}"></ion-icon>
        </div>
        <div class="hero-text">
          <h1 class="hero-title">{{ isEdit ? 'Editar Producto' : 'Nuevo Producto' }}</h1>
          <p class="hero-subtitle">{{ isEdit ? 'Actualiza la información del producto' : 'Completa los datos del nuevo producto' }}</p>
        </div>
      </div>
    </div>

    <!-- Form Card -->
    <ion-card class="form-card">
      <ion-card-content class="form-content">
        <form (ngSubmit)="onSubmit()" #productoForm="ngForm" class="producto-form">
          <!-- Primera fila -->
          <div class="form-row">
            <div class="form-group">
              <div class="input-container">
                <div class="input-header">
                  <label class="input-label">
                    Nombre del Producto *
                  </label>
                </div>
                <ion-input 
                  type="text" 
                  [(ngModel)]="productoData.nombre_producto" 
                  name="nombre_producto"
                  placeholder=""
                  class="custom-input"
                  maxlength="100"
                  required>
                </ion-input>
              </div>
            </div>

            <div class="form-group">
              <div class="input-container">
                <div class="input-header">
                  <label class="input-label">
                    Descripción *
                  </label>
                </div>
                <ion-input 
                  type="text" 
                  [(ngModel)]="productoData.descripcion" 
                  name="descripcion"
                  placeholder=""
                  class="custom-input"
                  maxlength="500"
                  required>
                </ion-input>
              </div>
            </div>
          </div>

          <!-- Segunda fila -->
          <div class="form-row">
            <div class="form-group">
              <div class="input-container">
                <div class="input-header">
                  <label class="input-label">
                    Precio *
                  </label>
                </div>
                <ion-input 
                  type="number" 
                  [(ngModel)]="productoData.precio" 
                  name="precio"
                  placeholder=""
                  class="custom-input"
                  required>
                </ion-input>
              </div>
            </div>

            <div class="form-group">
              <div class="input-container">
                <div class="input-header">
                  <label class="input-label">
                    Stock *
                  </label>
                </div>
                <ion-input 
                  type="number" 
                  [(ngModel)]="productoData.stock" 
                  name="stock"
                  placeholder=""
                  class="custom-input"
                  required>
                </ion-input>
              </div>
            </div>
          </div>

          <!-- Tercera fila -->
          <div class="form-row">
            <div class="form-group">
              <div class="input-container">
                <div class="input-header">
                  <label class="input-label">
                    Unidad de Medida *
                  </label>
                </div>
                <ion-input 
                  type="text" 
                  [(ngModel)]="productoData.unidad_medida" 
                  name="unidad_medida"
                  placeholder=""
                  class="custom-input"
                  required>
                </ion-input>
              </div>
            </div>

            <div class="form-group">
              <div class="input-container">
                <div class="input-header">
                  <label class="input-label">
                    Marca
                  </label>
                </div>
                <ion-input 
                  type="text" 
                  [(ngModel)]="productoData.marca" 
                  name="marca"
                  placeholder=""
                  class="custom-input">
                </ion-input>
              </div>
            </div>
          </div>


          <!-- Botones de acción -->
          <div class="form-actions">
            <ion-button 
              type="button" 
              expand="block" 
              fill="outline" 
              class="cancel-button"
              (click)="dismiss()">
              <ion-icon name="close-circle" slot="start"></ion-icon>
              Cancelar
            </ion-button>

            <ion-button 
              type="submit" 
              expand="block" 
              class="submit-button"
              [disabled]="!productoForm.valid || isLoading">
              <ion-spinner *ngIf="isLoading" name="crescent" class="button-spinner"></ion-spinner>
              <ion-icon *ngIf="!isLoading" [name]="isEdit ? 'save' : 'add-circle'" slot="start"></ion-icon>
              <span *ngIf="!isLoading" class="button-text">
                {{ isEdit ? 'Actualizar Producto' : 'Crear Producto' }}
              </span>
            </ion-button>
          </div>
        </form>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
